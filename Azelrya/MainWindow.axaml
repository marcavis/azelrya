<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
        x:Class="Azelrya.MainWindow"
        Title="Azelrya"
        KeyDown="MainWindow_OnKeyDown">
    <Grid RowDefinitions="Auto,*,Auto" ColumnDefinitions="260,*,220">
        <Menu Grid.Row="0" Grid.ColumnSpan="3">
            <MenuItem Header="_File">
                <MenuItem Header="_New Map" Click="NewMapMenuItem_OnClick" />
                <Separator />
                <MenuItem Header="E_xit" Click="ExitMenuItem_OnClick" />
            </MenuItem>

            <MenuItem Header="_Edit">
                <MenuItem x:Name="UndoMenuItem"
                          Header="_Undo"
                          InputGesture="Ctrl+Z"
                          IsEnabled="False"
                          Click="UndoButton_OnClick" />
                <MenuItem x:Name="RedoMenuItem"
                          Header="_Redo"
                          InputGesture="Ctrl+Y"
                          IsEnabled="False"
                          Click="RedoButton_OnClick" />
            </MenuItem>

            <MenuItem Header="_View">
                <MenuItem Header="400% Zoom" Click="Zoom400MenuItem_OnClick" />
                <MenuItem Header="300% Zoom" Click="Zoom300MenuItem_OnClick" />
                <MenuItem Header="200% Zoom" Click="Zoom200MenuItem_OnClick" />
                <MenuItem Header="100% Zoom" Click="Zoom100MenuItem_OnClick" />
            </MenuItem>
        </Menu>

        <StackPanel Grid.Row="1" Grid.Column="0" Margin="16" Spacing="12">
            <TextBlock Text="Azelrya" FontSize="24" FontWeight="Bold" />
            <TextBlock Text="Layer Options" FontWeight="SemiBold" />

            <StackPanel x:Name="TerrainOptionsPanel" Spacing="8">
                <TextBlock Text="Palette" FontWeight="SemiBold" />
                <RadioButton x:Name="LandColorButton"
                             Content="Land (Green)"
                             IsChecked="True"
                             Checked="LandColorButton_OnChecked" />
                <RadioButton x:Name="WaterColorButton"
                             Content="Water (Blue)"
                             Checked="WaterColorButton_OnChecked" />
            </StackPanel>

            <StackPanel x:Name="ElevationOptionsPanel" Spacing="8" IsVisible="False">
                <TextBlock Text="Elevation Paint" FontWeight="SemiBold" />
                <TextBlock Text="Left-click/hold: increase elevation"
                           TextWrapping="Wrap" />
                <TextBlock Text="Right-click/hold: decrease elevation"
                           TextWrapping="Wrap" />
            </StackPanel>

            <TextBlock Text="Brush Size" FontWeight="SemiBold" Margin="0,8,0,0" />
            <Slider x:Name="BrushSizeSlider"
                    Minimum="1"
                    Maximum="64"
                    Value="12"
                    TickFrequency="1"
                    IsSnapToTickEnabled="True"
                    ValueChanged="BrushSizeSlider_OnValueChanged" />
            <TextBlock x:Name="BrushSizeText" Text="12 px" />

            <Separator Margin="0,8,0,8" />

            <Button Content="Import PNG" Click="ImportPngButton_OnClick" />
            <Button Content="Export PNG" Click="ExportPngButton_OnClick" />
            <Button Content="Clear to Water" Click="ClearButton_OnClick" />
            <Button x:Name="UndoButton" Content="Undo" Click="UndoButton_OnClick" IsEnabled="False" />
            <Button x:Name="RedoButton" Content="Redo" Click="RedoButton_OnClick" IsEnabled="False" />
        </StackPanel>

        <Border Grid.Row="1" Grid.Column="1" Margin="16" BorderThickness="1" Padding="8">
            <ScrollViewer x:Name="MapScrollViewer"
                          HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Auto">
                <Grid HorizontalAlignment="Left" VerticalAlignment="Top">
                    <Image x:Name="MapImage"
                              Stretch="Fill"
                              RenderOptions.BitmapInterpolationMode="None"
                           HorizontalAlignment="Left"
                           VerticalAlignment="Top" />

                    <Canvas x:Name="PaintSurface"
                            Background="Transparent"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top"
                            PointerPressed="PaintSurface_OnPointerPressed"
                            PointerMoved="PaintSurface_OnPointerMoved"
                            PointerReleased="PaintSurface_OnPointerReleased"
                            PointerEntered="PaintSurface_OnPointerEntered"
                            PointerExited="PaintSurface_OnPointerExited">
                        <Ellipse x:Name="BrushPreview"
                                 IsVisible="False"
                                 IsHitTestVisible="False"
                                 Stroke="White"
                                 StrokeThickness="1"
                                 Fill="Transparent"
                                 Width="12"
                                 Height="12" />
                    </Canvas>
                </Grid>
            </ScrollViewer>
        </Border>

        <StackPanel Grid.Row="1" Grid.Column="2" Margin="16" Spacing="10">
            <TextBlock Text="Layers" FontWeight="SemiBold" />
            <RadioButton x:Name="ElevationLayerButton"
                         Content="Elevation"
                         Checked="ElevationLayerButton_OnChecked" />
            <RadioButton x:Name="BaseTerrainLayerButton"
                         Content="Base Terrain"
                         IsChecked="True"
                         Checked="BaseTerrainLayerButton_OnChecked" />
        </StackPanel>

        <Border Grid.Row="2" Grid.ColumnSpan="3" BorderThickness="1,1,1,0" Padding="8,4">
            <DockPanel>
                <TextBlock x:Name="ZoomStatusText" DockPanel.Dock="Right" Text="Zoom: 100%" HorizontalAlignment="Right" />
                <StackPanel DockPanel.Dock="Right"
                            Orientation="Horizontal"
                            Margin="0,0,16,0"
                            Spacing="8"
                            HorizontalAlignment="Right">
                    <TextBlock x:Name="CursorPositionText"
                               Width="110"
                               TextAlignment="Left"
                               Text="Cursor: --" />
                    <TextBlock Text="|" />
                    <TextBlock x:Name="CursorTerrainText"
                               Width="55"
                               TextAlignment="Left"
                               Text="--" />
                    <TextBlock Text="|" />
                    <TextBlock x:Name="CursorElevationText"
                               Width="130"
                               TextAlignment="Left"
                               Text="Elevation: --" />
                </StackPanel>
                <TextBlock x:Name="StatusText" Text="Ready" TextWrapping="Wrap" />
            </DockPanel>
        </Border>
    </Grid>
</Window>
